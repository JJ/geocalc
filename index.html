<!DOCTYPE html>
<html>
<head>
	<title>Calculator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div style="width:100%; display: flex; flex-direction: column; align-items: center;">
		<input type="text" id="datos" style="width:100%;" placeholder="Datos">
		<button onclick="calcular()" style="width:100%;">Calcular</button>
		<div style="width:100%; display:flex; gap:8px; align-items:center;">
			<p id="salida" style="flex:1; margin:0; padding:8px; background:#f5f5f5; border:1px solid #ddd; border-radius:4px;"></p>
			<button id="copy-btn" onclick="copiar()" aria-label="Copiar resultado" title="Copiar resultado" style="padding:8px 12px;">
				ðŸ“‹
			</button>
		</div>
	</div>

	<script>
		function calcular() {
			let datos = document.getElementById("datos").value;
			let numbers = datos.replace(/[\s,;]+/g, " ").trim().split(" ");
			let sum = 0;
			for (let i = 0; i < numbers.length; i++) {
				sum += parseFloat(numbers[i]);
			}
			let average = sum / numbers.length;
			document.getElementById("salida").innerHTML = average;
		}

		function copiar() {
			const salidaEl = document.getElementById("salida");
			const texto = salidaEl.textContent || salidaEl.innerText || "";
			if (!texto) { return; }
			if (navigator.clipboard && window.isSecureContext) {
				navigator.clipboard.writeText(texto).catch(() => {
					// ignore errors silently
				});
			} else {
				const ta = document.createElement('textarea');
				ta.value = texto;
				ta.style.position = 'fixed';
				ta.style.opacity = '0';
				document.body.appendChild(ta);
				ta.focus();
				ta.select();
				try { document.execCommand('copy'); } finally { document.body.removeChild(ta); }
			}
		}
	</script>
</body>
</html>
